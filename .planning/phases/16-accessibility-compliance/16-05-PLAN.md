# Plan 16-05: Text Contrast - Core Components

---
phase: 16-accessibility-compliance
plan: 05
type: execute
wave: 2
depends_on: [16-01, 16-02, 16-03, 16-04]
files_modified:
  - apps/web/tailwind.config.ts
  - packages/ui/src/components/Modal.tsx
  - apps/web/src/components/BookingModal.tsx
autonomous: true

must_haves:
  truths:
    - "Modal text meets 4.5:1 contrast ratio on white/cream backgrounds"
    - "BookingModal text meets 4.5:1 contrast ratio"
    - "Tailwind config documents WCAG-compliant text colors"
  artifacts:
    - path: "packages/ui/src/components/Modal.tsx"
      provides: "Modal with compliant text colors"
      contains: "text-text-muted"
    - path: "apps/web/src/components/BookingModal.tsx"
      provides: "BookingModal with compliant text colors"
      contains: "text-text-muted"
    - path: "apps/web/tailwind.config.ts"
      provides: "Documented contrast-compliant text colors"
      contains: "WCAG"
  key_links:
    - from: "Modal.tsx"
      to: "tailwind.config.ts"
      via: "text-text-muted class"
      pattern: "text-text-muted"
---

<objective>
Update core modal components to use WCAG-compliant text colors and document the pattern.

Purpose: WCAG 2.1 SC 1.4.3 requires 4.5:1 contrast ratio for normal text. Opacity-based colors like charcoal/60 fail this requirement.
Output: Modal.tsx and BookingModal.tsx using text-text-muted, tailwind.config.ts with documentation.
</objective>

<execution_context>
@C:\Users\aaron\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aaron\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/ui/src/components/Modal.tsx
@apps/web/src/components/BookingModal.tsx
@apps/web/tailwind.config.ts
</context>

<tasks>

<task type="auto">
  <name>Document contrast-compliant text colors in tailwind.config.ts</name>
  <files>apps/web/tailwind.config.ts</files>
  <action>
Add a comment above the text colors section documenting WCAG compliance:

```typescript
// Text Colors - WCAG 2.1 AA Compliant (4.5:1+ contrast on white/cream)
// Use these instead of charcoal/XX opacity modifiers for body text:
// - text-text-primary: '#1A1A1A' (~14:1) - headings, important text
// - text-text-secondary: '#4A4A4A' (~9:1) - secondary content
// - text-text-muted: '#7A7A7A' (~4.6:1) - minimum for body text, captions
// AVOID: text-charcoal/50, text-charcoal/60, text-charcoal/70 (fail contrast)
```

This establishes the pattern for the entire codebase.
  </action>
  <verify>Run `grep "WCAG" apps/web/tailwind.config.ts` - should return match</verify>
  <done>tailwind.config.ts documents which text colors are WCAG compliant</done>
</task>

<task type="auto">
  <name>Update Modal.tsx to use compliant text colors</name>
  <files>packages/ui/src/components/Modal.tsx</files>
  <action>
Replace opacity-based text colors with compliant alternatives:
- `text-charcoal/60` -> `text-text-muted`
- `text-charcoal/40` -> `text-text-muted` (close button needs visibility)
- `text-charcoal/50` -> `text-text-muted`

The modal description and secondary text commonly use these failing colors.
  </action>
  <verify>Run `grep "text-text-muted" packages/ui/src/components/Modal.tsx` - should return match</verify>
  <done>Modal.tsx uses text-text-muted instead of opacity-based colors</done>
</task>

<task type="auto">
  <name>Update BookingModal.tsx to use compliant text colors</name>
  <files>apps/web/src/components/BookingModal.tsx</files>
  <action>
Replace all instances of failing opacity patterns:
- `text-charcoal/60` -> `text-text-muted`
- `text-charcoal/40` -> `text-text-muted`
- `text-charcoal/50` -> `text-text-muted`

For dark mode equivalents:
- `dark:text-white/60` -> keep as is (white/60 on dark charcoal passes)
- `dark:text-white/40` -> `dark:text-white/60` (upgrade for visibility)
  </action>
  <verify>Run `grep "text-text-muted" apps/web/src/components/BookingModal.tsx` - should return match</verify>
  <done>BookingModal.tsx uses compliant text colors</done>
</task>

</tasks>

<verification>
```bash
# Verify Modal uses compliant colors
grep "text-text-muted" packages/ui/src/components/Modal.tsx

# Verify BookingModal uses compliant colors
grep "text-text-muted" apps/web/src/components/BookingModal.tsx

# Verify documentation comment added
grep "WCAG" apps/web/tailwind.config.ts
```

All should return matches.
</verification>

<success_criteria>
- Modal.tsx uses `text-text-muted` instead of `text-charcoal/60`
- BookingModal.tsx uses compliant text colors
- tailwind.config.ts documents contrast-compliant text colors
</success_criteria>

<output>
After completion, create `.planning/phases/16-accessibility-compliance/16-05-SUMMARY.md`
</output>
