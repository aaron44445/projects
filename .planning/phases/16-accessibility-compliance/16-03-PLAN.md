# Plan 16-03: Booking Widget Date Labels and SR-Only Class

---
phase: 16-accessibility-compliance
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/embed/[slug]/page.tsx
  - apps/web/src/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Screen reader announces date button labels including selection state"
    - "sr-only utility class hides elements visually but keeps them accessible"
  artifacts:
    - path: "apps/web/src/app/embed/[slug]/page.tsx"
      provides: "Date buttons with aria-label and aria-pressed"
      contains: "aria-pressed"
    - path: "apps/web/src/app/globals.css"
      provides: "Screen reader only utility class"
      contains: ".sr-only"
  key_links:
    - from: "apps/web/src/app/embed/[slug]/page.tsx"
      to: "globals.css"
      via: "sr-only class usage"
      pattern: "className.*sr-only"
---

<objective>
Add aria-labels to date buttons and ensure sr-only utility class exists.

Purpose: Complete the booking widget accessibility by labeling date buttons and providing the sr-only utility for live regions.
Output: Date buttons with aria-label/aria-pressed and sr-only class in globals.css.
</objective>

<execution_context>
@C:\Users\aaron\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aaron\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@apps/web/src/app/embed/[slug]/page.tsx
@apps/web/src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Add sr-only utility class to globals.css</name>
  <files>apps/web/src/app/globals.css</files>
  <action>
Check if .sr-only exists in globals.css. If not, add this standard screen-reader-only pattern:

```css
/* Screen reader only - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

This is the standard Tailwind sr-only class pattern. Add it in the @layer utilities section if present, otherwise at the end of the file.
  </action>
  <verify>Run `grep "sr-only" apps/web/src/app/globals.css` - should return match</verify>
  <done>.sr-only class is defined in globals.css</done>
</task>

<task type="auto">
  <name>Add aria-label to date buttons</name>
  <files>apps/web/src/app/embed/[slug]/page.tsx</files>
  <action>
Update the date selector buttons (around line 600-617) to have aria-labels:

```tsx
<button
  key={date}
  onClick={() => onDateChange(date)}
  aria-label={`${formatDateLabel(date)}, ${isSelected ? 'selected' : 'select this date'}`}
  aria-pressed={isSelected}
  className={...}
  style={...}
>
  {formatDateLabel(date)}
</button>
```

The aria-pressed attribute indicates toggle state for screen readers.
  </action>
  <verify>Run `grep "aria-pressed" apps/web/src/app/embed/[slug]/page.tsx` - should return match</verify>
  <done>Date buttons have aria-label with date and selection state, plus aria-pressed attribute</done>
</task>

<task type="auto">
  <name>Build and verify booking widget</name>
  <files>apps/web/src/app/embed/[slug]/page.tsx</files>
  <action>
Run `npm run build -w apps/web` to verify no TypeScript errors.

This validates that the aria-label and aria-pressed attributes are correctly typed.
  </action>
  <verify>Build command completes with exit code 0</verify>
  <done>apps/web builds successfully with no TypeScript errors</done>
</task>

</tasks>

<verification>
```bash
# Verify sr-only class exists
grep "sr-only" apps/web/src/app/globals.css

# Verify date button labels
grep "aria-pressed" apps/web/src/app/embed/\[slug\]/page.tsx

# Verify build passes
npm run build -w apps/web
```

All checks should pass.
</verification>

<success_criteria>
- Date buttons have `aria-label` attributes with date and selection state
- Date buttons have `aria-pressed` attribute
- `.sr-only` class defined in globals.css
- Build succeeds without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/16-accessibility-compliance/16-03-SUMMARY.md`
</output>
