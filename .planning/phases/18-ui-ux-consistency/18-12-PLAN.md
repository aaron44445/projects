---
phase: 18-ui-ux-consistency
plan: 12
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/staff/schedule/page.tsx
  - apps/web/src/app/embed/[slug]/page.tsx
  - apps/web/src/components/booking/PaymentForm.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Staff schedule page uses rose design tokens for error states"
    - "Embed page uses rose design tokens for error states"
    - "PaymentForm uses rose design tokens for error states"
    - "No hardcoded red color patterns remain in these files"
  artifacts:
    - path: "apps/web/src/app/staff/schedule/page.tsx"
      provides: "Schedule with rose tokens"
      pattern: "rose"
    - path: "apps/web/src/app/embed/[slug]/page.tsx"
      provides: "Embed with rose tokens"
      pattern: "rose"
    - path: "apps/web/src/components/booking/PaymentForm.tsx"
      provides: "PaymentForm with rose tokens"
      pattern: "rose"
---

<objective>
Replace hardcoded red colors with rose design tokens in staff/schedule, embed, and PaymentForm

Purpose: Close Gap 3 (UI-03) part 3 - migrate remaining files with error token issues
Output: 3 files using rose design tokens, completing error token migration
</objective>

<execution_context>
@C:\Users\aaron\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aaron\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/18-ui-ux-consistency/18-02-SUMMARY.md

Error state pattern:
- Error: bg-rose/10 border-rose/20 text-rose-dark
- Dark mode: dark:bg-rose/20 dark:border-rose/30 dark:text-rose
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate staff/schedule error colors</name>
  <files>apps/web/src/app/staff/schedule/page.tsx</files>
  <action>
    Staff schedule has red color usages (bg-red-100, text-red-700):

    Replace:
    - bg-red-100 -> bg-rose/10
    - bg-red-50 -> bg-rose/10
    - text-red-700 -> text-rose-dark
    - text-red-600 -> text-rose-dark
    - border-red-200 -> border-rose/20

    Context: Schedule page uses red for blocked/unavailable time slots and errors
    Keep semantics: unavailable = rose tokens
  </action>
  <verify>
    - grep -E "(bg|text|border)-red-" apps/web/src/app/staff/schedule/page.tsx returns no results
    - npm run typecheck passes
  </verify>
  <done>Staff schedule uses rose design tokens</done>
</task>

<task type="auto">
  <name>Task 2: Migrate embed page error colors</name>
  <files>apps/web/src/app/embed/[slug]/page.tsx</files>
  <action>
    Embed page has: text-red-400, bg-red-50, border-red-200

    Replace:
    - text-red-400 -> text-rose-dark (or text-rose for lighter)
    - bg-red-50 -> bg-rose/10
    - border-red-200 -> border-rose/20
    - Any other red variants -> corresponding rose tokens

    Important: Embed page is customer-facing, ensure accessibility:
    - Error text contrast must be sufficient
    - text-rose-dark provides good contrast on light backgrounds
  </action>
  <verify>
    - grep -E "(bg|text|border)-red-" apps/web/src/app/embed/[slug]/page.tsx returns no results
    - npm run typecheck passes
  </verify>
  <done>Embed page uses rose design tokens</done>
</task>

<task type="auto">
  <name>Task 3: Migrate PaymentForm error colors</name>
  <files>apps/web/src/components/booking/PaymentForm.tsx</files>
  <action>
    PaymentForm has: bg-red-50, border-red-200, text-red-700

    Replace:
    - bg-red-50 -> bg-rose/10
    - border-red-200 -> border-rose/20
    - text-red-700 -> text-rose-dark

    PaymentForm is critical path - payment errors must be clearly visible:
    - Error message pattern: bg-rose/10 border border-rose/20 p-3 rounded-lg text-rose-dark
  </action>
  <verify>
    - grep -E "(bg|text|border)-red-" apps/web/src/components/booking/PaymentForm.tsx returns no results
    - npm run typecheck passes
  </verify>
  <done>PaymentForm uses rose design tokens</done>
</task>

</tasks>

<verification>
Run after all tasks:
```bash
# Verify no hardcoded red patterns remain
grep -E "(bg|text|border)-red-" apps/web/src/app/staff/schedule/page.tsx "apps/web/src/app/embed/[slug]/page.tsx" apps/web/src/components/booking/PaymentForm.tsx

# Verify rose tokens present
grep "rose" apps/web/src/app/staff/schedule/page.tsx "apps/web/src/app/embed/[slug]/page.tsx" apps/web/src/components/booking/PaymentForm.tsx

# TypeScript compilation
npm run typecheck
```
</verification>

<success_criteria>
- [ ] Staff schedule uses rose design tokens
- [ ] Embed page uses rose design tokens
- [ ] PaymentForm uses rose design tokens
- [ ] No hardcoded red patterns remain in these files
- [ ] TypeScript compiles without errors
- [ ] Commit: feat(18-12): migrate schedule, embed, PaymentForm to rose design tokens
</success_criteria>

<output>
After completion, create `.planning/phases/18-ui-ux-consistency/18-12-SUMMARY.md`
</output>
