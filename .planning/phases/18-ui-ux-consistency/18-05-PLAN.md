---
phase: 18-ui-ux-consistency
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/web/src/app/dashboard/page.tsx
  - apps/web/src/app/reports/page.tsx
  - apps/web/src/app/staff/page.tsx
  - apps/web/src/app/staff/schedule/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Dashboard page imports STATUS_COLORS from @/lib/statusColors"
    - "Reports page imports STATUS_COLORS from @/lib/statusColors"
    - "Staff page imports STATUS_COLORS from @/lib/statusColors"
    - "Staff schedule page imports STATUS_COLORS from @/lib/statusColors"
    - "No files define local const statusColors"
  artifacts:
    - path: "apps/web/src/app/dashboard/page.tsx"
      provides: "Dashboard using centralized status colors"
      contains: "import { STATUS_COLORS"
    - path: "apps/web/src/app/reports/page.tsx"
      provides: "Reports using centralized status colors"
      contains: "import { STATUS_COLORS"
    - path: "apps/web/src/app/staff/page.tsx"
      provides: "Staff using centralized status colors"
      contains: "import { STATUS_COLORS"
    - path: "apps/web/src/app/staff/schedule/page.tsx"
      provides: "Staff schedule using centralized status colors"
      contains: "import { STATUS_COLORS"
  key_links:
    - from: "apps/web/src/app/dashboard/page.tsx"
      to: "@/lib/statusColors"
      via: "import"
      pattern: "import.*STATUS_COLORS.*from.*statusColors"
---

<objective>
Replace local statusColors definitions with centralized STATUS_COLORS import in 4 pages

Purpose: Close Gap 2 (UI-02) - all status color definitions must come from single constants file
Output: 4 pages using @/lib/statusColors instead of local definitions
</objective>

<execution_context>
@C:\Users\aaron\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aaron\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/18-ui-ux-consistency/18-03-SUMMARY.md

@apps/web/src/lib/statusColors.ts
@apps/web/src/app/calendar/page.tsx (reference - already migrated)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate dashboard status colors</name>
  <files>apps/web/src/app/dashboard/page.tsx</files>
  <action>
    1. Add import: `import { STATUS_COLORS, type StatusKey } from '@/lib/statusColors';`
    2. Find the local statusColors definition (around line 48):
       ```typescript
       const statusColors: Record<string, string> = {
         scheduled: 'bg-sage/20 text-sage-dark border border-sage/30',
         confirmed: 'bg-sage/20 text-sage-dark border border-sage/30',
         'in-progress': 'bg-lavender/20 text-lavender-dark border border-lavender/30',
         completed: 'bg-mint/20 text-mint-dark border border-mint/30',
         cancelled: 'bg-rose/20 text-rose-dark border border-rose/30',
         'no-show': 'bg-rose/20 text-rose-dark border border-rose/30',
       };
       ```
    3. DELETE this local definition entirely
    4. Update any usages of `statusColors[status]` to use a helper function:
       ```typescript
       const getStatusClasses = (status: string): string => {
         const normalizedStatus = status.replace('_', '-') as StatusKey;
         const colors = STATUS_COLORS[normalizedStatus] || STATUS_COLORS.pending;
         return `${colors.bg} ${colors.text} ${colors.border}`;
       };
       ```
       OR use the exported getStatusClasses from statusColors.ts if status keys match.
    5. Pattern from calendar: Map underscore variants (no_show) to hyphenated (no-show)
  </action>
  <verify>
    - grep "const statusColors" apps/web/src/app/dashboard/page.tsx returns no results
    - grep "STATUS_COLORS" apps/web/src/app/dashboard/page.tsx returns import line
    - npm run typecheck passes
  </verify>
  <done>Dashboard page uses centralized STATUS_COLORS, no local statusColors definition</done>
</task>

<task type="auto">
  <name>Task 2: Migrate reports status colors</name>
  <files>apps/web/src/app/reports/page.tsx</files>
  <action>
    1. Add import: `import { STATUS_COLORS, type StatusKey } from '@/lib/statusColors';`
    2. Find the local statusColors definition (around line 66) and DELETE it
    3. Add getStatusClasses helper or use exported function:
       ```typescript
       const getStatusClasses = (status: string): string => {
         const normalizedStatus = status.replace('_', '-') as StatusKey;
         const colors = STATUS_COLORS[normalizedStatus] || STATUS_COLORS.pending;
         return `${colors.bg} ${colors.text} ${colors.border}`;
       };
       ```
    4. Update usages to call getStatusClasses(status) instead of statusColors[status]
  </action>
  <verify>
    - grep "const statusColors" apps/web/src/app/reports/page.tsx returns no results
    - grep "STATUS_COLORS" apps/web/src/app/reports/page.tsx returns import line
    - npm run typecheck passes
  </verify>
  <done>Reports page uses centralized STATUS_COLORS, no local statusColors definition</done>
</task>

<task type="auto">
  <name>Task 3: Migrate staff and staff/schedule status colors</name>
  <files>apps/web/src/app/staff/page.tsx, apps/web/src/app/staff/schedule/page.tsx</files>
  <action>
    For staff/page.tsx:
    1. Add import: `import { STATUS_COLORS, type StatusKey } from '@/lib/statusColors';`
    2. Find the local statusColors definition (around line 38) - NOTE: staff page has different keys (active, inactive, on-leave)
    3. Delete the original local statusColors definition
    4. Create a local staffStatusColors mapping that maps staff-specific keys to existing STATUS_COLORS tokens:
       ```typescript
       const staffStatusColors: Record<string, { bg: string; text: string; border: string }> = {
         active: STATUS_COLORS.confirmed,    // sage (green) - active staff
         inactive: STATUS_COLORS.draft,      // charcoal (gray) - inactive staff
         'on-leave': STATUS_COLORS.pending,  // lavender (purple) - on leave
       };
       ```
    5. Update usages of `statusColors[status]` to use `staffStatusColors[status]`

    For staff/schedule/page.tsx:
    1. Add import: `import { STATUS_COLORS, type StatusKey } from '@/lib/statusColors';`
    2. Find the local statusColors definition (around line 405) and DELETE it
    3. Add getStatusClasses helper with underscore-to-hyphen normalization
    4. Update usages to call getStatusClasses(status)
  </action>
  <verify>
    - grep "const statusColors" apps/web/src/app/staff/page.tsx returns no results OR only the staffStatusColors mapping
    - grep "const statusColors" apps/web/src/app/staff/schedule/page.tsx returns no results
    - grep "STATUS_COLORS" in both files returns import lines
    - npm run typecheck passes
  </verify>
  <done>Staff pages use centralized STATUS_COLORS, no duplicate status color definitions</done>
</task>

</tasks>

<verification>
Run after all tasks:
```bash
# Verify no local statusColors definitions remain (except intentional mappings)
grep -r "const statusColors" apps/web/src/app/ --include="*.tsx"

# Verify STATUS_COLORS imports present
grep -r "STATUS_COLORS" apps/web/src/app/dashboard/page.tsx apps/web/src/app/reports/page.tsx apps/web/src/app/staff/page.tsx apps/web/src/app/staff/schedule/page.tsx

# TypeScript compilation
npm run typecheck
```
</verification>

<success_criteria>
- [ ] Dashboard page imports STATUS_COLORS, no local statusColors
- [ ] Reports page imports STATUS_COLORS, no local statusColors
- [ ] Staff page imports STATUS_COLORS, no local statusColors (mapping allowed for staff-specific statuses)
- [ ] Staff/schedule page imports STATUS_COLORS, no local statusColors
- [ ] TypeScript compiles without errors
- [ ] Commit: feat(18-05): migrate status colors to centralized constants
</success_criteria>

<output>
After completion, create `.planning/phases/18-ui-ux-consistency/18-05-SUMMARY.md`
</output>
