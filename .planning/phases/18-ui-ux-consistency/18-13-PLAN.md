---
phase: 18-ui-ux-consistency
plan: 13
type: execute
wave: 2
depends_on: ["05", "06", "07", "08", "09"]
files_modified:
  - apps/web/src/app/calendar/page.tsx
  - apps/web/src/app/notifications/page.tsx
  - apps/web/src/app/gift-cards/page.tsx
  - apps/web/src/app/packages/page.tsx
  - apps/web/src/app/locations/page.tsx
  - apps/web/src/app/marketing/page.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "All pages with empty data show EmptyState component OR have no empty state pattern (verified)"
    - "EmptyState used consistently for 'no data yet' scenarios"
    - "Search/filter 'no results' may use simpler inline patterns"
  artifacts:
    - path: "apps/web/src/app/calendar/page.tsx"
      provides: "Calendar empty state audit"
    - path: "apps/web/src/app/notifications/page.tsx"
      provides: "Notifications empty state audit"
    - path: "apps/web/src/app/gift-cards/page.tsx"
      provides: "Gift-cards empty state audit"
    - path: "apps/web/src/app/packages/page.tsx"
      provides: "Packages empty state audit"
    - path: "apps/web/src/app/locations/page.tsx"
      provides: "Locations empty state audit"
    - path: "apps/web/src/app/marketing/page.tsx"
      provides: "Marketing empty state audit"
---

<objective>
Audit and migrate empty states in 6 pages to use EmptyState component where appropriate

Purpose: Close Gap 4 (UI-04) - ensure empty states use shared EmptyState component
Output: 6 pages audited, EmptyState added where initial empty state patterns exist
</objective>

<execution_context>
@C:\Users\aaron\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\aaron\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/18-ui-ux-consistency/18-04-SUMMARY.md

@packages/ui/src/components/EmptyState.tsx

Established patterns (from 18-04):
- Initial empty: title="No X yet", description="...", action button
- Search empty: title="No X found", description="Try adjusting...", no action
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and migrate calendar empty states</name>
  <files>apps/web/src/app/calendar/page.tsx</files>
  <action>
    Search for empty state patterns:
    - `{appointments.length === 0 && (...)}` patterns
    - "No appointments" text
    - Empty calendar day rendering

    If found:
    1. Add EmptyState import: `import { EmptyState } from '@peacase/ui';`
    2. Replace inline empty state with:
       ```tsx
       <EmptyState
         icon={CalendarCheck}
         title="No appointments today"
         description="Your calendar is clear. Book an appointment to get started."
         actionLabel="New Appointment"
         onAction={() => setShowNewAppointment(true)}
       />
       ```

    If calendar has no empty state pattern (always shows calendar grid):
    - Document as "Calendar displays grid regardless of appointments - no empty state needed"
    - No changes required
  </action>
  <verify>
    - Check if EmptyState is imported (if empty state existed)
    - npm run typecheck passes
  </verify>
  <done>Calendar empty states audited and migrated if applicable</done>
</task>

<task type="auto">
  <name>Task 2: Audit and migrate notifications empty states</name>
  <files>apps/web/src/app/notifications/page.tsx</files>
  <action>
    Search for empty state patterns:
    - `{notifications.length === 0 && (...)}` patterns
    - "No notifications" text

    If found:
    1. Add EmptyState import: `import { EmptyState } from '@peacase/ui';`
    2. Replace inline empty state with:
       ```tsx
       <EmptyState
         icon={Bell}
         title="No notifications yet"
         description="You'll see appointment reminders, booking confirmations, and other updates here."
       />
       ```
    3. For filtered view (e.g., unread only):
       ```tsx
       <EmptyState
         icon={Bell}
         title="No unread notifications"
         description="You're all caught up!"
       />
       ```
  </action>
  <verify>
    - grep "EmptyState" apps/web/src/app/notifications/page.tsx shows import/usage
    - npm run typecheck passes
  </verify>
  <done>Notifications empty states audited and migrated</done>
</task>

<task type="auto">
  <name>Task 3: Audit gift-cards, packages, locations, marketing empty states</name>
  <files>apps/web/src/app/gift-cards/page.tsx, apps/web/src/app/packages/page.tsx, apps/web/src/app/locations/page.tsx, apps/web/src/app/marketing/page.tsx</files>
  <action>
    For each page, search for empty state patterns:

    Gift-cards:
    - `{giftCards.length === 0 && (...)}`
    - "No gift cards" text
    - Replace with EmptyState using Gift icon

    Packages:
    - `{packages.length === 0 && (...)}`
    - "No packages" text
    - Replace with EmptyState using Package icon

    Locations:
    - `{locations.length === 0 && (...)}`
    - "No locations" text
    - Replace with EmptyState using MapPin icon

    Marketing:
    - `{campaigns.length === 0 && (...)}`
    - "No campaigns" text
    - Replace with EmptyState using Megaphone or Send icon

    Template:
    ```tsx
    <EmptyState
      icon={IconName}
      title="No {items} yet"
      description="Add your first {item} to get started."
      actionLabel="Add {Item}"
      onAction={() => setShowModal(true)}
    />
    ```
  </action>
  <verify>
    - Check EmptyState imports in each file that had empty states
    - npm run typecheck passes
  </verify>
  <done>Gift-cards, packages, locations, marketing empty states migrated</done>
</task>

</tasks>

<verification>
Run after all tasks:
```bash
# Verify EmptyState imports where applicable
grep "EmptyState" apps/web/src/app/calendar/page.tsx apps/web/src/app/notifications/page.tsx apps/web/src/app/gift-cards/page.tsx apps/web/src/app/packages/page.tsx apps/web/src/app/locations/page.tsx apps/web/src/app/marketing/page.tsx

# TypeScript compilation
npm run typecheck
```
</verification>

<success_criteria>
- [ ] Calendar empty states audited (migrated if applicable)
- [ ] Notifications uses EmptyState (if empty state existed)
- [ ] Gift-cards uses EmptyState (if empty state existed)
- [ ] Packages uses EmptyState (if empty state existed)
- [ ] Locations uses EmptyState (if empty state existed)
- [ ] Marketing uses EmptyState (if empty state existed)
- [ ] TypeScript compiles without errors
- [ ] Commit: feat(18-13): audit and migrate empty states to EmptyState component
</success_criteria>

<output>
After completion, create `.planning/phases/18-ui-ux-consistency/18-13-SUMMARY.md`

Document which pages had empty states vs which didn't need them.
</output>
